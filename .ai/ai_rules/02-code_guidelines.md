# AI 代码生成与修改规范

## 1. 代码生成规则
- **可运行性**：新生成的代码必须可以直接运行，禁止提供伪代码或“示意性”代码，除非仅作思路演示。
- **技术栈最佳实践**：遵循当前项目所使用技术栈的最佳实践和规范，尊重已有的项目结构与状态管理方式。
- **简洁与复用**：代码需尽量简洁，避免过度设计和过度封装。优先复用项目现有逻辑，或在现有逻辑之上进行重构，拒绝重复造轮子。

## 2. 代码修改规则
- **最小变更原则**：只修改必要的最小范围，坚决避免无关代码的重构。除非用户明确要求，否则绝对禁止重写整个文件。
- **Diff 格式输出**：修改现有代码时，必须使用统一的 Diff Patch 格式进行输出，清晰展示改动前后的差异。
- **尊重项目结构**：必须严格遵循当前项目已有的命名规则、文件组织结构和架构模式。
- **保留核心逻辑**：未经用户明确允许，不得删除任何业务逻辑代码或构建相关逻辑代码。
- **精准补全**：在进行代码自动补全时，不得擅自更改用户未选择或未关注的区域代码。

## 3. 构建保护规则
- **禁止擅自修改构建链路**：除非用户明确下达指令，否则严禁修改项目的核心构建配置文件（如 `package.json`、`build.gradle`、`CMakeLists.txt` 等，视具体技术栈而定）。

## 4. 文档与注释规范
- **适度注释**：对于复杂的业务逻辑、算法或特殊的 Workaround，可以添加简明扼要的注释。
- **避免冗余**：不解释基础语法（如“这里定义了一个变量”）。不要在文件头部编写重复或无意义的类说明注释。